* Z:\home\twoninefour\hdd\seniorDesign\Vupiter\src\linear\sim\linear.asc
R1 isense outp 0.05
R3 N018 isense 10k
R4 0 N018 96k
R5 vi N015 96k
R6 N015 outp 10k
XU3 N018 N015 vcc vgg vi TL084
V4 vcont 0 PULSE(1 0 0.7m 1u 1u 19 20)
V5 N013 0 12 Rser=0.1666
V6 vin N013 SINE(0 1.25 400k) AC 1 Rser=0.16666
C2 vin 0 10µ Rser=0.1
Q1 N008 AD N012 0 2N3904
V8 iset 0 PULSE(0 2.4 0.6m 1n 1n 10 10)
Q2 N008 N012 P001 0 Qtip41c
RL outp 0 5
Q3 N008 N012 P002 0 Qtip41c
R13 P002 isense 0.1
R16 P001 isense 0.1
XU7 vset N011 vcc vgg AD TL084
R21 N014 outp 50k
R22 0 N014 4k
R23 vr N010 4k
XU8 N014 N010 vcc vgg vr TL084
R24 N010 0 50k
R9 0 N012 2.5k
V1 vset 0 PULSE(0 0.4 0.5m 1n 1n 10 10)
XU2 iset N016 vcc vgg N017 TL084
XU4 iset N016 vcc vgg N017 TL084
C6 N017 N016 500p
R20 N016 vi 600
Q4 N008 AD N012 0 2N3904
XU5 v5 N007 v3 v3 LM317_TRANS
R2 v3 N007 1k
R12 N007 0 1.76k
C4 v3 0 1µ
C7 v5 0 0.1µ
Rfan v5 0 50
R19 v3 0 60
XU1 fb5 N002 0 N002 N002 N006 N004 preg MC33063A-Q1_TRANS
C8 N004 0 1100p
R25 preg N002 0.3
L1 v5 N006 28µ Ipk=2 Rser=0.35
R26 fb5 0 1.2k
C9 v5 0 10µ Rser=0.2
D2 0 N006 1N5819
R28 fb5 v5 3.8k
C17 0 preg 10µ Rser=1
L7 vin preg 5µ Rser=36.5m
R34 AD 0 6k
L2 vin N009 1.5µ Ipk=8 Rser=8m
C1 N009 0 10µ Rser=0.1
L3 vin vcc 1.5µ Ipk=8 Rser=8m
C5 0 vcc 10µ Rser=0.1
XU9 fb3 N001 pg3 N001 N001 N005 N003 preg MC33063A-Q1_TRANS
C3 N003 0 150p
R7 preg N001 0.44
L4 0 N005 50µ Ipk=1 Rser=0.745
R8 pg3 fb3 4k
R14 0 fb3 6k
C18 pg3 0 10µ Rser=0.2
D5 pg3 N005 1N5819
L8 pg3 vgg 1.5µ
C19 vgg 0 10µ Rser=0.2
L5 N008 N009 1.5µ Ipk=8 Rser=8m
B1 P003 0 V=(V(outp)-V(0))*V(vcont)
RL2 outp P003 1
C10 N008 0 10µ Rser=0.1
R15 N011 vr 1k
C11 AD N011 500p
D3 AD N017 1N5819
V2 vref 0 2.4
XU12 vi N019 vcc vgg N019 TL084
D7 iread vref 1N5819
D8 0 iread 1N5819
R10 iread N019 1k
C12 iread 0 100p
XU6 vr N020 vcc vgg N020 TL084
D1 vread vref 1N5819
D6 0 vread 1N5819
R11 vread N020 1k
C13 vread 0 100p
.model D D
.lib C:\users\twoninefour\My Documents\LTspiceXVII\lib\cmp\standard.dio
.model NPN NPN
.model PNP PNP
.lib C:\users\twoninefour\My Documents\LTspiceXVII\lib\cmp\standard.bjt
.inc TL084.301
.tran 0 0.001 0 startup uic
.meas TRAN I0 PP I(R1) FROM 640u TO 695u
.meas TRAN V0 PP V(outp) FROM 640u TO 695u
.inc TIP41C.LIB
* Shared heatsink for the two
.meas TRAN V1 PP V(outp) FROM 0.9m TO 1.0m
* from DACs
* comes from first stage
.model t0 AKO: Qtip41c (Bf=15)
* R15 and R20 should be trimmer pots
* This is a dummy load representing the fan
* This is a dummy load representing the micro
* Dummy load to represent output
* Analog control ground plane
* Digital ground plane
* Power ground plane
* Switching ground plane
* ignore these
.meas TRAN I1 PP I(R1) FROM 0.9m TO 1.0m
* R12 should be 1k+1k pot
* low esr
* Power rated resistors
* Power rated shunt resistor
.lib Z:\home\twoninefour\Downloads\LM317_TRANS.LIB
.lib Z:\home\twoninefour\Downloads\MC33063A-Q1_TRANS.lib
.backanno
.end
